# 系统安装说明

## 安装步骤

### 1. 访问安装程序

在浏览器中访问：`http://your-domain/install/`

### 2. 按照向导完成安装

安装程序包含以下步骤：

1. **环境检查**
   - 检查 PHP 版本（需要 PHP 7.4+）
   - 检查必需的 PHP 扩展
   - 检查目录权限

2. **数据库配置**
   - 填写数据库连接信息
   - 如果数据库不存在，程序会自动创建

3. **创建管理员账号**
   - 设置管理员用户名
   - 设置登录账号
   - 设置登录密码

4. **完成安装**
   - 自动创建数据表
   - 初始化配置数据
   - 创建管理员账号

### 3. 安装完成后

- 访问后台管理系统：`http://your-domain/admin/login.php`
- 使用创建的管理员账号登录
- **重要：安装完成后，建议删除或重命名 install 目录以确保安全**

## 系统要求

- PHP 7.4 或更高版本
- MySQL 5.7 或更高版本
- 必需的 PHP 扩展：
  - PDO
  - PDO_MySQL
  - mbstring
  - openssl
  - json

## 数据库结构

安装程序会自动创建以下数据表：

- `admin_users` - 管理员表
- `users` - 用户表
- `user_sessions` - 用户会话表
- `configs` - 配置表
- `miniprogram_config` - 小程序配置表
- `orders` - 订单表
- `website_configs` - 网站配置表

## 重新安装

如果需要重新安装：

1. 删除 `server/.installed` 文件
2. 清空数据库或删除数据库
3. 重新访问安装程序

## 故障排除

### 数据库连接失败

- 检查数据库服务是否运行
- 检查数据库用户名和密码是否正确
- 检查数据库主机和端口是否正确
- 确保数据库用户有创建数据库的权限

### 目录权限问题

- 确保 `server` 目录可写
- 确保 `admin` 目录可写
- Linux/Mac 系统可能需要设置目录权限：`chmod -R 755 server admin`

### PHP 扩展未安装

- 根据你的 PHP 安装方式，安装缺失的扩展
- 例如：`apt-get install php-pdo-mysql` (Ubuntu/Debian)

## 技术支持

如有问题，请查看系统文档或联系技术支持。

