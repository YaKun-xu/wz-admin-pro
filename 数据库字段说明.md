# ğŸ“Š ç‹è€…è£è€€æŸ¥æˆ˜åŠ›å°ç¨‹åº - æ•°æ®åº“å­—æ®µè¯´æ˜

## ğŸ—„ï¸ æ•°æ®åº“æ¦‚è§ˆ
åŒ…å«13ä¸ªæ ¸å¿ƒè¡¨ï¼Œæ”¯æ’‘æ•´ä¸ªå°ç¨‹åºçš„ä¸šåŠ¡é€»è¾‘ã€‚

---

## ğŸ”§ ç³»ç»Ÿé…ç½®è¡¨

### 1. `configs` - å…¨å±€é…ç½®è¡¨
| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|
| `id` | int | ä¸»é”®ID | 1 |
| `page_name` | varchar(50) | é¡µé¢åç§° | tongyong, index |
| `config_key` | varchar(100) | é…ç½®é”®å | workTime, qrcodeImage |
| `config_value` | text | é…ç½®å€¼ | 9:00-23:00 |
| `parent_key` | varchar(100) | çˆ¶çº§é…ç½®é”® | serviceInfo |
| `created_at` | timestamp | åˆ›å»ºæ—¶é—´ | è‡ªåŠ¨ç»´æŠ¤ |
| `updated_at` | timestamp | æ›´æ–°æ—¶é—´ | è‡ªåŠ¨ç»´æŠ¤ |

**ç”¨é€”**ï¼šå­˜å‚¨å°ç¨‹åºå„é¡µé¢çš„åŠ¨æ€é…ç½®ï¼Œæ”¯æŒåµŒå¥—é…ç½®ç»“æ„ã€‚

### 2. `miniprogram_config` - å°ç¨‹åºé…ç½®è¡¨
| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|
| `id` | int | ä¸»é”®ID | 1 |
| `app_name` | varchar(100) | å°ç¨‹åºåç§° | ç‹è€…æˆ˜åŠ›æŸ¥è¯¢ |
| `app_id` | varchar(100) | å°ç¨‹åºAppID | wx02651585a286c4d5 |
| `app_secret` | varchar(200) | å°ç¨‹åºå¯†é’¥ | åŠ å¯†å­˜å‚¨ |
| `is_active` | tinyint(1) | æ˜¯å¦å¯ç”¨ | 1=å¯ç”¨, 0=ç¦ç”¨ |
| `login_enabled` | tinyint(1) | æ˜¯å¦å¼€å¯ç™»å½• | 1=å¼€å¯, 0=å…³é—­ |
| `mch_id` | varchar(32) | å¾®ä¿¡æ”¯ä»˜å•†æˆ·å· | 1696246701 |
| `pay_key` | varchar(32) | å¾®ä¿¡æ”¯ä»˜å¯†é’¥ | åŠ å¯†å­˜å‚¨ |
| `pay_enabled` | tinyint(1) | æ˜¯å¦å¼€å¯æ”¯ä»˜ | 1=å¼€å¯, 0=å…³é—­ |
| `pay_notify_url` | varchar(255) | æ”¯ä»˜å›è°ƒåœ°å€ | http://åŸŸå/pay_notify.php |
| `created_at` | timestamp | åˆ›å»ºæ—¶é—´ | è‡ªåŠ¨ç»´æŠ¤ |
| `updated_at` | timestamp | æ›´æ–°æ—¶é—´ | è‡ªåŠ¨ç»´æŠ¤ |

**ç”¨é€”**ï¼šç®¡ç†å¤šä¸ªå°ç¨‹åºçš„é…ç½®ä¿¡æ¯ï¼Œæ”¯æŒä¸åŒå°ç¨‹åºç‹¬ç«‹é…ç½®ç™»å½•å’Œæ”¯ä»˜åŠŸèƒ½ã€‚

---

## ğŸ‘¥ ç”¨æˆ·ç³»ç»Ÿè¡¨

### 3. `users` - ç”¨æˆ·è¡¨
| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|
| `id` | int | ç”¨æˆ·ID | 1 |
| `app_id` | varchar(100) | æ‰€å±å°ç¨‹åºID | wx02651585a286c4d5 |
| `openid` | varchar(100) | å¾®ä¿¡OpenID | å”¯ä¸€æ ‡è¯† |
| `unionid` | varchar(100) | å¾®ä¿¡UnionID | å¤šåº”ç”¨ç»Ÿä¸€ID |
| `session_key` | varchar(100) | å¾®ä¿¡ä¼šè¯å¯†é’¥ | è§£å¯†ç”¨æˆ·ä¿¡æ¯ |
| `nickname` | varchar(100) | ç”¨æˆ·æ˜µç§° | å¼ ä¸‰ |
| `avatar_url` | varchar(500) | å¤´åƒåœ°å€ | https://... |
| `phone` | varchar(20) | æ‰‹æœºå· | 13800138000 |
| `is_phone_verified` | tinyint(1) | æ‰‹æœºå·æ˜¯å¦éªŒè¯ | 1=å·²éªŒè¯, 0=æœªéªŒè¯ |
| `last_login_time` | timestamp | æœ€åç™»å½•æ—¶é—´ | 2025-07-29 12:00:00 |
| `created_at` | timestamp | æ³¨å†Œæ—¶é—´ | è‡ªåŠ¨ç»´æŠ¤ |
| `updated_at` | timestamp | æ›´æ–°æ—¶é—´ | è‡ªåŠ¨ç»´æŠ¤ |

**ç”¨é€”**ï¼šå­˜å‚¨ç”¨æˆ·åŸºæœ¬ä¿¡æ¯ï¼Œæ”¯æŒå¤šå°ç¨‹åºç”¨æˆ·ç®¡ç†ã€‚

### 4. `user_sessions` - ç”¨æˆ·ä¼šè¯è¡¨
| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|
| `id` | int | ä¼šè¯ID | 1 |
| `user_id` | int | ç”¨æˆ·ID | å…³è”usersè¡¨ |
| `session_token` | varchar(255) | ä¼šè¯ä»¤ç‰Œ | JWT Token |
| `expires_at` | timestamp | è¿‡æœŸæ—¶é—´ | 2025-08-29 12:00:00 |
| `created_at` | timestamp | åˆ›å»ºæ—¶é—´ | è‡ªåŠ¨ç»´æŠ¤ |

**ç”¨é€”**ï¼šç®¡ç†ç”¨æˆ·ç™»å½•ä¼šè¯ï¼Œå®ç°Tokenè®¤è¯æœºåˆ¶ã€‚

---

## ğŸ›’ å•†å“ç³»ç»Ÿè¡¨

### 5. `shop_categories` - å•†å“åˆ†ç±»è¡¨
| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|
| `id` | int | åˆ†ç±»ID | 1 |
| `name` | varchar(50) | åˆ†ç±»åç§° | æˆ˜åŒºä¿®æ”¹ |
| `sort_order` | int | æ’åºæƒé‡ | æ•°å­—è¶Šå°è¶Šé å‰ |
| `status` | tinyint | çŠ¶æ€ | 1=å¯ç”¨, 0=ç¦ç”¨ |
| `created_at` | timestamp | åˆ›å»ºæ—¶é—´ | è‡ªåŠ¨ç»´æŠ¤ |
| `updated_at` | timestamp | æ›´æ–°æ—¶é—´ | è‡ªåŠ¨ç»´æŠ¤ |

**ç”¨é€”**ï¼šå•†å“åˆ†ç±»ç®¡ç†ï¼Œæ”¯æŒåˆ†ç±»æ’åºå’Œå¯ç”¨æ§åˆ¶ã€‚

### 6. `shop_products` - å•†å“ä¸»è¡¨
| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|
| `id` | int | å•†å“ID | 1 |
| `category_id` | int | åˆ†ç±»ID | å…³è”shop_categories |
| `product_type` | tinyint | å•†å“ç±»å‹ | 1=æ™®é€šå•†å“, 2=å¡å¯†å•†å“ |
| `title` | varchar(200) | å•†å“æ ‡é¢˜ | ç‹è€…è£è€€æˆ˜åŒºä¿®æ”¹ |
| `description` | text | å•†å“æè¿° | è¯¦ç»†ä»‹ç» |
| `price` | decimal(10,2) | å•†å“ä»·æ ¼ | 29.90 |
| `cover_image` | varchar(500) | å°é¢å›¾ç‰‡ | https://... |
| `sales` | int | é”€é‡ | 1234 |
| `sort_order` | int | æ’åºæƒé‡ | æ•°å­—è¶Šå°è¶Šé å‰ |
| `status` | tinyint | çŠ¶æ€ | 1=ä¸Šæ¶, 0=ä¸‹æ¶ |
| `created_at` | timestamp | åˆ›å»ºæ—¶é—´ | è‡ªåŠ¨ç»´æŠ¤ |
| `updated_at` | timestamp | æ›´æ–°æ—¶é—´ | è‡ªåŠ¨ç»´æŠ¤ |

**ç”¨é€”**ï¼šå•†å“æ ¸å¿ƒä¿¡æ¯ç®¡ç†ï¼Œæ”¯æŒæ™®é€šå•†å“å’Œå¡å¯†å•†å“ä¸¤ç§ç±»å‹ã€‚

### 7. `shop_product_images` - å•†å“å›¾ç‰‡è¡¨
| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|
| `id` | int | å›¾ç‰‡ID | 1 |
| `product_id` | int | å•†å“ID | å…³è”shop_products |
| `image_url` | varchar(500) | å›¾ç‰‡åœ°å€ | https://... |
| `sort_order` | int | æ’åº | æ•°å­—è¶Šå°è¶Šé å‰ |
| `created_at` | timestamp | åˆ›å»ºæ—¶é—´ | è‡ªåŠ¨ç»´æŠ¤ |

**ç”¨é€”**ï¼šå­˜å‚¨å•†å“çš„å¤šå¼ å±•ç¤ºå›¾ç‰‡ï¼Œæ”¯æŒå›¾ç‰‡æ’åºã€‚

---

## ğŸ“š å†…å®¹ç®¡ç†è¡¨

### 8. `shop_modify_steps` - ä¿®æ”¹æ­¥éª¤è¡¨
| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|
| `id` | int | æ­¥éª¤ID | 1 |
| `product_id` | int | å•†å“ID | å…³è”shop_productsï¼ŒNULLè¡¨ç¤ºé€šç”¨ |
| `step_number` | int | æ­¥éª¤åºå· | 1, 2, 3... |
| `title` | varchar(200) | æ­¥éª¤æ ‡é¢˜ | ä¸‹å•è´­ä¹° |
| `description` | text | æ­¥éª¤æè¿° | è¯¦ç»†æ“ä½œè¯´æ˜ |
| `note` | text | æ³¨æ„äº‹é¡¹ | é‡è¦æç¤º |
| `sort_order` | int | æ’åº | æ•°å­—è¶Šå°è¶Šé å‰ |
| `status` | tinyint | çŠ¶æ€ | 1=å¯ç”¨, 0=ç¦ç”¨ |
| `created_at` | timestamp | åˆ›å»ºæ—¶é—´ | è‡ªåŠ¨ç»´æŠ¤ |
| `updated_at` | timestamp | æ›´æ–°æ—¶é—´ | è‡ªåŠ¨ç»´æŠ¤ |

**ç”¨é€”**ï¼šå­˜å‚¨å•†å“çš„æ“ä½œæ­¥éª¤è¯´æ˜ï¼ŒæŒ‡å¯¼ç”¨æˆ·å¦‚ä½•ä½¿ç”¨å•†å“ã€‚

### 9. `shop_tutorials` - å›¾æ–‡æ•™ç¨‹è¡¨
| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|
| `id` | int | æ•™ç¨‹ID | 1 |
| `product_id` | int | å•†å“ID | å…³è”shop_productsï¼ŒNULLè¡¨ç¤ºé€šç”¨ |
| `title` | varchar(200) | æ•™ç¨‹æ ‡é¢˜ | æ­¥éª¤ä¸€ï¼šè·å–å¡å¯† |
| `description` | text | æ•™ç¨‹æè¿° | ç®€è¦è¯´æ˜ |
| `image_url` | varchar(500) | æ•™ç¨‹å›¾ç‰‡ | https://... |
| `content` | text | è¯¦ç»†å†…å®¹ | å®Œæ•´æ“ä½œè¯´æ˜ |
| `sort_order` | int | æ’åº | æ•°å­—è¶Šå°è¶Šé å‰ |
| `status` | tinyint | çŠ¶æ€ | 1=å¯ç”¨, 0=ç¦ç”¨ |
| `created_at` | timestamp | åˆ›å»ºæ—¶é—´ | è‡ªåŠ¨ç»´æŠ¤ |
| `updated_at` | timestamp | æ›´æ–°æ—¶é—´ | è‡ªåŠ¨ç»´æŠ¤ |

**ç”¨é€”**ï¼šæä¾›å›¾æ–‡å¹¶èŒ‚çš„ä½¿ç”¨æ•™ç¨‹ï¼Œå¸®åŠ©ç”¨æˆ·ç†è§£æ“ä½œæµç¨‹ã€‚

### 10. `shop_videos` - è§†é¢‘æ•™ç¨‹è¡¨
| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|
| `id` | int | è§†é¢‘ID | 1 |
| `product_id` | int | å•†å“ID | å…³è”shop_productsï¼ŒNULLè¡¨ç¤ºé€šç”¨ |
| `title` | varchar(200) | è§†é¢‘æ ‡é¢˜ | å®Œæ•´ä¿®æ”¹æµç¨‹æ¼”ç¤º |
| `description` | text | è§†é¢‘æè¿° | è§†é¢‘å†…å®¹ä»‹ç» |
| `video_url` | varchar(500) | è§†é¢‘é“¾æ¥ | https://... |
| `cover_image` | varchar(500) | è§†é¢‘å°é¢ | https://... |
| `duration` | varchar(20) | è§†é¢‘æ—¶é•¿ | 03:45 |
| `play_count` | int | æ’­æ”¾æ¬¡æ•° | ç»Ÿè®¡æ•°æ® |
| `sort_order` | int | æ’åº | æ•°å­—è¶Šå°è¶Šé å‰ |
| `status` | tinyint | çŠ¶æ€ | 1=å¯ç”¨, 0=ç¦ç”¨ |
| `created_at` | timestamp | åˆ›å»ºæ—¶é—´ | è‡ªåŠ¨ç»´æŠ¤ |
| `updated_at` | timestamp | æ›´æ–°æ—¶é—´ | è‡ªåŠ¨ç»´æŠ¤ |

**ç”¨é€”**ï¼šæä¾›è§†é¢‘æ•™ç¨‹ï¼Œç›´è§‚å±•ç¤ºæ“ä½œè¿‡ç¨‹ã€‚

### 11. `shop_faqs` - å¸¸è§é—®é¢˜è¡¨
| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|
| `id` | int | é—®é¢˜ID | 1 |
| `product_id` | int | å•†å“ID | å…³è”shop_productsï¼ŒNULLè¡¨ç¤ºé€šç”¨ |
| `question` | text | é—®é¢˜ | ä¿®æ”¹éœ€è¦å¤šé•¿æ—¶é—´ï¼Ÿ |
| `answer` | text | ç­”æ¡ˆ | é€šå¸¸1-24å°æ—¶å†…å®Œæˆ |
| `sort_order` | int | æ’åº | æ•°å­—è¶Šå°è¶Šé å‰ |
| `status` | tinyint | çŠ¶æ€ | 1=å¯ç”¨, 0=ç¦ç”¨ |
| `created_at` | timestamp | åˆ›å»ºæ—¶é—´ | è‡ªåŠ¨ç»´æŠ¤ |
| `updated_at` | timestamp | æ›´æ–°æ—¶é—´ | è‡ªåŠ¨ç»´æŠ¤ |

**ç”¨é€”**ï¼šå­˜å‚¨å¸¸è§é—®é¢˜å’Œç­”æ¡ˆï¼Œå‡å°‘å®¢æœå’¨è¯¢é‡ã€‚

---

## ğŸ’³ è®¢å•ç³»ç»Ÿè¡¨

### 12. `orders` - è®¢å•è¡¨
| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|
| `id` | int | è®¢å•ID | 1 |
| `order_no` | varchar(32) | è®¢å•å· | WZ202507281539375466 |
| `user_id` | int | ç”¨æˆ·ID | å…³è”usersè¡¨ |
| `app_id` | varchar(100) | å°ç¨‹åºID | wx02651585a286c4d5 |
| `product_id` | int | å•†å“ID | å…³è”shop_products |
| `product_title` | varchar(200) | å•†å“æ ‡é¢˜ | å¿«ç…§ä¿¡æ¯ |
| `product_price` | decimal(10,2) | å•†å“ä»·æ ¼ | å¿«ç…§ä¿¡æ¯ |
| `total_amount` | decimal(10,2) | è®¢å•æ€»é‡‘é¢ | å®é™…æ”¯ä»˜é‡‘é¢ |
| `status` | enum | è®¢å•çŠ¶æ€ | pending(å¾…æ”¯ä»˜)/paid(å·²æ”¯ä»˜)/processing(å¤„ç†ä¸­)/completed(å·²å®Œæˆ)/cancelled(å·²å–æ¶ˆ)/refunded(å·²é€€æ¬¾) |
| `pay_method` | varchar(20) | æ”¯ä»˜æ–¹å¼ | wxpay |
| `transaction_id` | varchar(64) | å¾®ä¿¡æ”¯ä»˜äº¤æ˜“å· | ç¬¬ä¸‰æ–¹äº¤æ˜“å‡­è¯ |
| `paid_at` | timestamp | æ”¯ä»˜æ—¶é—´ | 2025-07-28 15:39:37 |
| `card_key` | varchar(255) | å¡å¯†å†…å®¹ | å¡å¯†å•†å“çš„å¡å¯† |
| `card_key_id` | int | å¡å¯†ID | å…³è”shop_card_keys |
| `created_at` | timestamp | åˆ›å»ºæ—¶é—´ | è‡ªåŠ¨ç»´æŠ¤ |
| `updated_at` | timestamp | æ›´æ–°æ—¶é—´ | è‡ªåŠ¨ç»´æŠ¤ |

**ç”¨é€”**ï¼šè®°å½•æ‰€æœ‰è®¢å•ä¿¡æ¯ï¼Œæ”¯æŒå®Œæ•´çš„è®¢å•ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚

### 13. `shop_card_keys` - å¡å¯†è¡¨
| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|
| `id` | int | å¡å¯†ID | 1 |
| `product_id` | int | å•†å“ID | å…³è”shop_products |
| `card_key` | varchar(255) | å¡å¯†å†…å®¹ | http://gaizhanqu.com/link/rx1Gg14P |
| `status` | tinyint | çŠ¶æ€ | 0=æœªä½¿ç”¨, 1=å·²ä½¿ç”¨ |

**ç”¨é€”**ï¼šå­˜å‚¨å¡å¯†å•†å“çš„å¡å¯†ï¼Œæ”¯æŒè‡ªåŠ¨å‘æ”¾æœºåˆ¶ã€‚

---

## ğŸ“ˆ æ•°æ®ç‰¹ç‚¹

### ğŸ”— å…³ç³»è®¾è®¡
- **å¤–é”®çº¦æŸ**ï¼šç¡®ä¿æ•°æ®å®Œæ•´æ€§
- **çº§è”åˆ é™¤**ï¼šå•†å“åˆ é™¤æ—¶è‡ªåŠ¨æ¸…ç†ç›¸å…³æ•°æ®
- **ç´¢å¼•ä¼˜åŒ–**ï¼šå…³é”®æŸ¥è¯¢å­—æ®µå»ºç«‹ç´¢å¼•

### ğŸ·ï¸ çŠ¶æ€ç®¡ç†
- **ç»Ÿä¸€çŠ¶æ€å­—æ®µ**ï¼š1=å¯ç”¨/ä¸Šæ¶ï¼Œ0=ç¦ç”¨/ä¸‹æ¶
- **è®¢å•çŠ¶æ€æµè½¬**ï¼špending â†’ paid â†’ processing â†’ completed
- **å¡å¯†çŠ¶æ€æ§åˆ¶**ï¼š0=æœªä½¿ç”¨ï¼Œ1=å·²ä½¿ç”¨

### â° æ—¶é—´æˆ³
- **è‡ªåŠ¨ç»´æŠ¤**ï¼šcreated_atå’Œupdated_atè‡ªåŠ¨æ›´æ–°
- **ä¸šåŠ¡æ—¶é—´**ï¼špaid_atã€last_login_timeç­‰ä¸šåŠ¡å…³é”®æ—¶é—´
- **æ—¶åŒºå¤„ç†**ï¼šç»Ÿä¸€ä½¿ç”¨æœåŠ¡å™¨æ—¶åŒº

### ğŸ”„ æ‰©å±•æ€§
- **NULLå€¼æ”¯æŒ**ï¼šproduct_idä¸ºNULLè¡¨ç¤ºé€šç”¨å†…å®¹
- **JSONå­—æ®µ**ï¼štagså­—æ®µæ”¯æŒå¤æ‚æ ‡ç­¾ç»“æ„
- **é…ç½®åµŒå¥—**ï¼šconfigsè¡¨æ”¯æŒparent_keyåµŒå¥—é…ç½® 